<!DOCTYPE html><html><head><link rel="canonical" href="https://jicjjang.github.io"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Lora|Space+Mono:700"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,500,400italic,300italic,300,500italic,700,700italic,900,900italic"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/default.min.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script><title>June blog</title><link rel="stylesheet" href="/static/css/main.css"/><link rel="stylesheet" href="/static/css/spinner.css"/><link rel="icon" href="/static/favicon.png"/><link rel="alternate" hrefLang="x-default" href="https://jicjjang.github.io"/><link rel="alternate" hrefLang="ko-kr" href="https://jicjjang.github.io"/><meta http-equiv="cache-control" content="Public"/><meta http-equiv="Expires" content="1800"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="This blog has been used since 2019 using Nextjs with Reactjs"/><meta name="author" content="Junseok, Choi &lt;jicjjang12@gmail.com&gt;"/><meta name="google-site-verification" content="DL3OehOD_wV9A1S0SRWoeXbMtlE5SeUZPlwGrFvPHQ8"/><meta name="naver-site-verification" content="a914a06593ce48762aa25cbb7d5e96042da6e549"/><meta name="robots" content="index,follow"/><meta name="og:type" content="blog"/><meta name="twitter:card" content="summary"/><meta name="twitter:creator" content="@jicjjang"/><meta name="twitter:site" content="June"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/3.0.1/github-markdown.min.css"/><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/><meta charSet="utf-8"/><title>여행중인 나를 당황하게 한 멀웨어 공격 - June blog</title><meta name="og:title" content="여행중인 나를 당황하게 한 멀웨어 공격"/><meta name="og:url" content="https://jicjjang.github.io/post/malware"/><meta name="og:site_name" content="여행중인 나를 당황하게 한 멀웨어 공격"/><meta name="og:description" content="Ringing at your dorbell"/><meta name="og:image" content="https://jicjjang.github.io/static/image/etc/malware/security.jpg"/><meta name="twitter:description" content="Ringing at your dorbell"/><meta name="twitter:title" content="여행중인 나를 당황하게 한 멀웨어 공격"/><meta name="twitter:url" content="https://jicjjang.github.io/post/malware"/><meta name="twitter:site" content="https://jicjjang.github.io/post/malware"/><meta name="twitter:domain" content="https://jicjjang.github.io/post/malware"/><meta name="twitter:image" content="https://jicjjang.github.io/static/image/etc/malware/security.jpg"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/1K6jiUe679ZNAQ69RjW6W/pages/post.js" as="script"/><link rel="preload" href="/_next/static/1K6jiUe679ZNAQ69RjW6W/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-9369c5c69dbf6d4912cb.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.15c31151fcdd343a2908.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-702dd6d8b1f9483d47f1.js" as="script"/></head><body><div id="__next"><main><article itemProp="blogPost" itemscope="" itemType="http://schema.org/BlogPosting"><header class="section-padding--lg mast"><a class="nav nav--white" itemProp="url" href="/"><i class="fa fa-lg fa-arrow-left"></i><span>Back to Posts</span></a><figure class="absolute-bg mast__img" style="background-image:url(/static/image/etc/malware/security.jpg)"></figure><div class="mast__container"><span><time itemProp="datePublished">7 / 20, 2015</time></span><h1 itemProp="name headline">여행중인 나를 당황하게 한 멀웨어 공격</h1><span>Posted in <!-- -->Etc</span></div></header><section class="section-padding post markdown-body" itemProp="articleBody"><p>뜬금없지만 이번 7월 16일 부터 7월 19일까지 일본 여행을 가게 되었습니다. 물론 이미 잘 다녀온 여행이고 즐거웠습니다.
그런데 여행 도중 갑자기 이용중인 서버 호스팅 사이트로부터 문자를 받게 되었습니다.</p>
<figure style="text-align: center;">
    <img src="https://jicjjang.github.io/static/image/etc/malware/message.png" alt="image" />
</figure>

<p><code>초과금 과금예정</code> 이란 단어에 스트레스가 쫘아악 올라가더군요;;;  </p>
<p>여행 도중이었기 때문에 바로 서버를 꺼주고 여행이 끝난 뒤 어떤 공격을 받은건지 확인을 했습니다.</p>
<p>먼저 서버 호스팅의 트래픽 사용량과 로그를 확인해보았습니다.</p>
<figure style="text-align: center;">
    <img src="https://jicjjang.github.io/static/image/etc/malware/traffic1.png" alt="image" />
</figure>

<figure style="text-align: center;">
    <img src="https://jicjjang.github.io/static/image/etc/malware/traffic2.png" alt="image" />
</figure>

<figure style="text-align: center;">
    <img src="https://jicjjang.github.io/static/image/etc/malware/traffic3.png" alt="image" />
</figure>

<p>... 눈물이 앞을 가립니다...</p>
<p>...서버를 켜주고 (트래픽 차단을 해제하지 않아도 서버만 켜주면 사이트가 들어가지더군요...) coda 프로그램을 이용해 access.log 파일과 error.log 파일을 받았습니다.</p>
<figure style="text-align: center;">
    <img src="https://jicjjang.github.io/static/image/etc/malware/log1.png" alt="image" />
</figure>

<figure style="text-align: center;">
    <img src="https://jicjjang.github.io/static/image/etc/malware/log2.png" alt="image" />
</figure>

<figure style="text-align: center;">
    <img src="https://jicjjang.github.io/static/image/etc/malware/log3.png" alt="image" />
</figure>

<pre><code>&quot;x00_-gawa.sa.pilipinas.2015&quot;
&quot;<a href="http://google.com/search?q=2+guys+1+horse">http://google.com/search?q=2+guys+1+horse</a>&quot;
&quot;/Ringing.at.your.dorbell!&quot;</code></pre><p>위 사진에서 뿐만 아니라 많은 로그들이 있었으나, 3개의 문장들이 많은 반복이 있었으므로 3개의 문장들을 기준으로 구글링을 해봤습니다.</p>
<p><a href="http://www.skepticism.us/2015/05/13/">shellshock attack</a> 라는 malware였습니다. (해결 방법까지 제공!)</p>
<p>ps. 현재 사이트를 운영중인게 아니라 큰 조치를 취할 필요는 없었습니다.
phpschool 호스팅을 쓰면서 무료로 제공하는 Dnszi에서, 유료면서 동일 IP에 대한 반복적인 리퀘스트를 제한해준다고 추천받은 Dnsever로 (유료지만..ㅠㅠ)
DNS를 옮기는게 제가 취한 조치였습니다.</p>
<hr>
<p>여행 도중이란 상황에 많이 당황하고, 아무것도 없는 빈 사이트, 서버에 이런 공격이 오리라곤 생각도 못하고 있었기에 두번 세번 당황했습니다.  </p>
<p>일이 터지기 전에 미리 조심해야 함을 다시 깨닫게 되는 여행이었고, 빈 사이트가 오히려 더 위험하다는걸 깨닫게 되었습니다.</p>
</section><section class="profile"><div class="profile__card"><div class="profile__img"><figure class="absolute-bg" style="background-image:url(/static/image/mine.jpg)"></figure></div><div class="profile__container"><p>프론트 개발을 좋아하고 꾸준히 공부하는 백엔드 개발자. 새로운 기술에 관심이 많음. React + Vue 개발 진행중. 현재 Kakaopay 재직중.</p><ul class="profile__social"><li><a class="fa fa-lg fa-envelope-o" href="mailto:jicjjang12@gmail.com"></a></li><li><a class="fa fa-lg fa-github" href="https://github.com/jicjjang" target="_blank"></a></li><li><a class="fa fa-lg fa-linkedin" href="https://www.linkedin.com/in/jicjjang" target="_blank"></a></li><li><a class="fa fa-lg fa-instagram" href="https://instagram.com/jicjjang" target="_blank"></a></li></ul></div></div></section></article><section class="next"><a class="next__link" itemProp="url" style="background-image:url(/static/image/etc/browserify/browserify.jpg)" href="/post/browserify/"><div class="next__container"><span>Read Next</span><h2>Browserify와 Watchify</h2></div></a></section><div id="disqus_thread" style="margin:50px 10% 0 10%"></div></main></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{"postId":"malware"}},"page":"/post","query":{"id":"malware"},"buildId":"1K6jiUe679ZNAQ69RjW6W","nextExport":true}</script><script nomodule="" src="/_next/static/runtime/polyfills-ebd4705da3402b2d78e1.js"></script><script async="" data-next-page="/post" src="/_next/static/1K6jiUe679ZNAQ69RjW6W/pages/post.js"></script><script async="" data-next-page="/_app" src="/_next/static/1K6jiUe679ZNAQ69RjW6W/pages/_app.js"></script><script src="/_next/static/runtime/webpack-9369c5c69dbf6d4912cb.js" async=""></script><script src="/_next/static/chunks/commons.15c31151fcdd343a2908.js" async=""></script><script src="/_next/static/runtime/main-702dd6d8b1f9483d47f1.js" async=""></script><script src="/static/script/google-analytics.js"></script></body></html>