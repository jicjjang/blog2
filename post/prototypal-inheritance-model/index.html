<!DOCTYPE html><html><head><link rel="canonical" href="https://jicjjang.github.io"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Lora|Space+Mono:700"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,500,400italic,300italic,300,500italic,700,700italic,900,900italic"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/default.min.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script><title>June blog</title><link rel="stylesheet" href="/static/css/main.css"/><link rel="stylesheet" href="/static/css/spinner.css"/><link rel="icon" href="/static/favicon.png"/><link rel="alternate" hrefLang="x-default" href="https://jicjjang.github.io"/><link rel="alternate" hrefLang="ko-kr" href="https://jicjjang.github.io"/><meta http-equiv="cache-control" content="Public"/><meta http-equiv="Expires" content="1800"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="This blog has been used since 2019 using Nextjs with Reactjs"/><meta name="author" content="Junseok, Choi &lt;jicjjang12@gmail.com&gt;"/><meta name="google-site-verification" content="DL3OehOD_wV9A1S0SRWoeXbMtlE5SeUZPlwGrFvPHQ8"/><meta name="naver-site-verification" content="a914a06593ce48762aa25cbb7d5e96042da6e549"/><meta name="robots" content="index,follow"/><meta name="og:type" content="blog"/><meta name="twitter:card" content="summary"/><meta name="twitter:creator" content="@jicjjang"/><meta name="twitter:site" content="June"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/3.0.1/github-markdown.min.css"/><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/><meta charSet="utf-8"/><title>자바스크립트 상속 모델 - June blog</title><meta name="og:title" content="자바스크립트 상속 모델"/><meta name="og:url" content="https://jicjjang.github.io/post/prototypal-inheritance-model"/><meta name="og:site_name" content="자바스크립트 상속 모델"/><meta name="og:description" content="클래스가 아닌, 자바스크립트 프로토 타입 상속 모델에 대해"/><meta name="og:image" content="https://jicjjang.github.io/static/image/javascript/javascript.jpg"/><meta name="twitter:description" content="클래스가 아닌, 자바스크립트 프로토 타입 상속 모델에 대해"/><meta name="twitter:title" content="자바스크립트 상속 모델"/><meta name="twitter:url" content="https://jicjjang.github.io/post/prototypal-inheritance-model"/><meta name="twitter:site" content="https://jicjjang.github.io/post/prototypal-inheritance-model"/><meta name="twitter:domain" content="https://jicjjang.github.io/post/prototypal-inheritance-model"/><meta name="twitter:image" content="https://jicjjang.github.io/static/image/javascript/javascript.jpg"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/1K6jiUe679ZNAQ69RjW6W/pages/post.js" as="script"/><link rel="preload" href="/_next/static/1K6jiUe679ZNAQ69RjW6W/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-9369c5c69dbf6d4912cb.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.15c31151fcdd343a2908.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-702dd6d8b1f9483d47f1.js" as="script"/></head><body><div id="__next"><main><article itemProp="blogPost" itemscope="" itemType="http://schema.org/BlogPosting"><header class="section-padding--lg mast"><a class="nav nav--white" itemProp="url" href="/"><i class="fa fa-lg fa-arrow-left"></i><span>Back to Posts</span></a><figure class="absolute-bg mast__img" style="background-image:url(/static/image/javascript/javascript.jpg)"></figure><div class="mast__container"><span><time itemProp="datePublished">2 / 12, 2018</time></span><h1 itemProp="name headline">자바스크립트 상속 모델</h1><span>Posted in <!-- -->Javascript</span></div></header><section class="section-padding post markdown-body" itemProp="articleBody"><p>몇일 전, 페이스북에 아래와 같은 질문이 올라왔었습니다.</p>
<pre><code class="language-text">javascript에서 상속구조를 만들 때

function Person(name) {
    this.name = name;
}
function Student(name, school) {
    Person.call(this, name);
    this.school = school;
}

Student.prototype = Object.create(Person.prototype);
Student.prototype.constructor = Student;

var student1 = new Student(&quot;lee&quot;, &quot;a&quot;);
console.log(student1.name) //lee

이런 식으로 만들고 있는데, 
Student.prototype = Object.create(Person.prototype);
이 부분에서 이 것과
Student.prototype = new Person();
을 하는 것의 큰 차이점을 잘 모르겠습니다 ㅠ_ㅠ
...</code></pre>
<p>위 질문에 맞는 대답은 해드렸지만 최근에 프로토타입에 대해 소홀한 부분이 있어서
자바스크립트에서의 상속에 대해 한번 정리를 해보려합니다.</p>
<hr>
<p>자바스크립트가 사용하는 프로토타입 모델에서의 상속은 아래와 같습니다.</p>
<pre><code class="language-javascript">function Foo() {
    this.value = 1;
}

Foo.prototype.method: function() {}

function Bar() {}

// Foo의 인스턴스를 만들어 Bar의 prototype에 할당
Bar.prototype = new Foo();
// Bar의 prototype의 생성자는 자기 자신.
Bar.prototype.constructor = Bar;

var barz = new Bar() // bar 인스턴스를 만든다.</code></pre>
<h2 id="결과">결과</h2>
<p>barz의 생성자 Bar의 prototype은 Foo입니다. Foo의 constructor는 Bar를 가리키며,
Foo의 prototype은 Object를 가리킵니다. 하지만 Object의 프로토타입은 다시 Foo를 가리키죠.</p>
<ul>
<li><ol>
<li>barz의 constructor -&gt; Bar</li>
</ol>
</li>
<li><ol start="2">
<li>Bar의 prototype -&gt; Foo, Foo의 constructor -&gt; Bar </li>
</ol>
<ul>
<li><ol>
<li>클래스의 상속 개념을 가지는 Bar, Foo와 같은 함수들은 prototype, constructor로
 순환구조를 가지게 됩니다.</li>
</ol>
</li>
</ul>
</li>
<li><ol start="3">
<li>Foo의 prototype -&gt; Object</li>
</ol>
<ul>
<li><ol>
<li>순환구조 최상위인 Object에 도달하면 끝이나게 됩니다.</li>
</ol>
</li>
</ul>
</li>
</ul>
<p><img src="https://jicjjang.github.io/static/image/javascript/prototypal-inheritance-model/result.png" alt="result"></p>
<h2 id="예외-케이스">예외 케이스</h2>
<p>만약 Bar의 프로토타입 생성자 (Bar.prototype.constructor)를 정해주지 않으면,
상속받은 함수(new Foo())를 가리키게 됩니다.</p>
<p><img src="https://jicjjang.github.io/static/image/javascript/prototypal-inheritance-model/exception.png" alt="exception"></p>
<h2 id="하지만">하지만</h2>
<p>비슷하지만 최근엔 다른 방식을 지향하게 되었습니다. 거의 똑같지만!
<code>Bar.prototype = new Foo();</code> 대신 <code>Bar.prototype = Object.create(Foo.prototype);</code>
를 하는것이죠. 물론 prototype.constructor도 이전과 마찬가지로 동일하게 정의해줘야 합니다.
new Foo()를 해도 상관은 없지만, new 연산을 사용하면 아래와 같은 이슈(??)가 생깁니다.</p>
<p><img src="https://jicjjang.github.io/static/image/javascript/prototypal-inheritance-model/issue.png" alt="issue"></p>
<p><code>Bar.prototype = new Foo();</code>를 하면 필요없는 객체의 데이터까지 들어오게 됩니다.
사실 무시할 수도 있지만, 본래의 역활과 다른 무언가까지 생기는게 찝찝하긴 합니다.</p>
<p>또한, Object.create에도 약간의 이슈가 있는데요, IE9과 같은 마이너 브라우저에서 사용할 수
없다는 점입니다. 이 부분은 아래 코드처럼 사전 정의를 통해 해결할 수 있습니다.</p>
<pre><code class="language-javascript">Object.create = function (o) {
    function F() {};
    F.prototype = o;
    return new F();
}</code></pre>
<p>참고 : <a href="http://unikys.tistory.com/320">[속깊은 자바스크립트 강좌] 상속, new와 object.create의 차이</a></p>
<hr>
<p>읽어주셔서 감사합니다.</p>
</section><section class="profile"><div class="profile__card"><div class="profile__img"><figure class="absolute-bg" style="background-image:url(/static/image/mine.jpg)"></figure></div><div class="profile__container"><p>프론트 개발을 좋아하고 꾸준히 공부하는 백엔드 개발자. 새로운 기술에 관심이 많음. React + Vue 개발 진행중. 현재 Kakaopay 재직중.</p><ul class="profile__social"><li><a class="fa fa-lg fa-envelope-o" href="mailto:jicjjang12@gmail.com"></a></li><li><a class="fa fa-lg fa-github" href="https://github.com/jicjjang" target="_blank"></a></li><li><a class="fa fa-lg fa-linkedin" href="https://www.linkedin.com/in/jicjjang" target="_blank"></a></li><li><a class="fa fa-lg fa-instagram" href="https://instagram.com/jicjjang" target="_blank"></a></li></ul></div></div></section></article><section class="next"><a class="next__link" itemProp="url" style="background-image:url(/static/image/review/learning-http2/background.jpg)" href="/post/review-learning-http-2/"><div class="next__container"><span>Read Next</span><h2>[Review] learning http/2</h2></div></a></section><div id="disqus_thread" style="margin:50px 10% 0 10%"></div></main></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{"postId":"prototypal-inheritance-model"}},"page":"/post","query":{"id":"prototypal-inheritance-model"},"buildId":"1K6jiUe679ZNAQ69RjW6W","nextExport":true}</script><script nomodule="" src="/_next/static/runtime/polyfills-ebd4705da3402b2d78e1.js"></script><script async="" data-next-page="/post" src="/_next/static/1K6jiUe679ZNAQ69RjW6W/pages/post.js"></script><script async="" data-next-page="/_app" src="/_next/static/1K6jiUe679ZNAQ69RjW6W/pages/_app.js"></script><script src="/_next/static/runtime/webpack-9369c5c69dbf6d4912cb.js" async=""></script><script src="/_next/static/chunks/commons.15c31151fcdd343a2908.js" async=""></script><script src="/_next/static/runtime/main-702dd6d8b1f9483d47f1.js" async=""></script><script src="/static/script/google-analytics.js"></script></body></html>